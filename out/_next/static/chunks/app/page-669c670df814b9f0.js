(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1090:function(e,t,r){Promise.resolve().then(r.bind(r,2918))},2918:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var l=r(7437),a=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,t)=>{let r=(0,a.forwardRef)(({color:r="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:o,children:i,...c},d)=>(0,a.createElement)("svg",{ref:d,...s,width:l,height:l,stroke:r,strokeWidth:o?24*Number(n)/Number(l):n,className:`lucide lucide-${toKebabCase(e)}`,...c},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...(Array.isArray(i)?i:[i])||[]]));return r.displayName=`${e}`,r},n=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),o=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),i=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),c=createLucideIcon("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);function Navigation(){return(0,l.jsx)("nav",{className:"bg-black/90 backdrop-blur-sm border-b border-gray-800 sticky top-0 z-50",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-800 border border-gray-600 rounded-lg",children:(0,l.jsx)(i,{className:"w-5 h-5 text-white"})}),(0,l.jsx)("h1",{className:"text-xl font-bold text-white",children:"AI Image Generator"})]}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("a",{href:"https://github.com/tomcomtang/vercel-ai-image-generator",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,l.jsx)(c,{className:"w-5 h-5"})})})]})})})}var d=r(9172);let u=[{icon:d.v9,short:"Cat",full:"A cute cat playing in a garden"},{icon:d.Rvu,short:"City",full:"Futuristic cityscape at night"},{icon:d.SaA,short:"Art",full:"Beautiful landscape in watercolor style"},{icon:d.xng,short:"Home",full:"Modern minimalist interior design"}];function ExamplesSection(e){let{onExampleClick:t}=e;return(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3 w-full",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Quick Examples"}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:"Click to generate example prompts"})]}),(0,l.jsx)("div",{className:"grid grid-cols-4 gap-2",children:u.map((e,r)=>{let a=e.icon;return(0,l.jsxs)("button",{onClick:()=>t(e.full),className:"flex items-center space-x-2 p-2 hover:bg-gray-800 text-sm text-gray-400 hover:text-white transition-colors rounded-lg",children:[(0,l.jsx)(a,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:e.short})]},r)})})]})}function CustomDropdown(e){let{options:t,value:r,onChange:s,placeholder:n="Select an option",className:o=""}=e,[i,c]=a.useState(!1),[d,u]=a.useState(!1),[m,f]=a.useState(""),[x,h]=a.useState(""),[b,p]=a.useState(!1),g=(0,a.useRef)(null);a.useEffect(()=>{let e=t.find(e=>e.value===r);f(e?e.label:n)},[t,r,n]),(0,a.useEffect)(()=>{let handleClickOutside=e=>{g.current&&!g.current.contains(e.target)&&handleCloseDropdown()};return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[]),(0,a.useEffect)(()=>{let e=t.find(e=>e.value===r),l=e?e.label:n;if(l!==m){h(l),p(!0);let e=setTimeout(()=>{f(l),h(""),p(!1)},300);return()=>clearTimeout(e)}},[r,t,n,m]);let handleOpenDropdown=()=>{c(!0),requestAnimationFrame(()=>{u(!0)})},handleCloseDropdown=()=>{u(!1),setTimeout(()=>{c(!1)},400)};return t.find(e=>e.value===r),(0,l.jsxs)("div",{className:"relative ".concat(o),ref:g,children:[(0,l.jsxs)("button",{onClick:()=>i?handleCloseDropdown():handleOpenDropdown(),className:"w-full bg-black border border-gray-600 hover:border-gray-500 focus:outline-none focus:ring-1 focus:ring-white focus:border-transparent text-white py-2 px-3 pr-4 rounded-lg transition-colors text-left flex items-center justify-between text-xs",children:[(0,l.jsxs)("div",{className:"relative text-xs",children:[(0,l.jsx)("span",{className:"transition-opacity duration-300 ease-in-out ".concat(b?"opacity-0":"opacity-100"),children:m}),b&&x&&(0,l.jsx)("span",{className:"absolute inset-0 transition-opacity duration-300 ease-in-out opacity-100",children:x})]}),(0,l.jsx)("svg",{className:"w-4 h-4 text-white transition-transform duration-200 ".concat(i?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&(0,l.jsx)("div",{className:"absolute bottom-full left-0 right-0 mb-1 bg-black border border-gray-600 rounded-lg shadow-lg z-50 transition-all duration-500 ease-out transform origin-bottom ".concat(d?"opacity-100 translate-y-0 scale-y-100":"opacity-0 translate-y-4 scale-y-90"),children:t.map((e,a)=>(0,l.jsx)("button",{onClick:()=>{e.disabled||(s(e.value),handleCloseDropdown())},disabled:e.disabled,className:"w-full text-left px-3 py-2 text-xs ".concat(0===a?"first:rounded-t-lg":""," ").concat(a===t.length-1?"last:rounded-b-lg":""," ").concat(e.disabled?"text-gray-500 cursor-not-allowed":r===e.value?"bg-gray-700 text-white":"text-white hover:bg-gray-800"),children:e.label},e.value))})]})}let m=[{value:"accounts/fireworks/models/stable-diffusion-xl-1024-v1-0",label:"Fireworks/Stable Diffusion XL 1024 V1.0"},{value:"accounts/fireworks/models/playground-v2-1024px-aesthetic",label:"Fireworks/Playground V2 1024px Aesthetic"},{value:"accounts/fireworks/models/flux-1-dev-fp8",label:"Fireworks/FLUX 1 Dev FP8"},{value:"fal-ai/flux/dev",label:"FAL/FLUX Dev"},{value:"fal-ai/flux/schnell",label:"FAL/FLUX Schnell"},{value:"fal-ai/flux-pro/v1.1",label:"FAL/FLUX Pro V1.1"},{value:"dall-e-3",label:"OpenAI/DALL-E 3"},{value:"dall-e-2",label:"OpenAI/DALL-E 2"},{value:"imagen-3.0-generate-002",label:"Google/Imagen 3.0 Generate 002",disabled:!0},{value:"stabilityai/sdxl-turbo",label:"DeepInfra/Stable Diffusion XL Turbo",disabled:!0},{value:"black-forest-labs/FLUX-1-dev",label:"DeepInfra/FLUX 1 Dev",disabled:!0},{value:"black-forest-labs/FLUX-1-schnell",label:"DeepInfra/FLUX 1 Schnell",disabled:!0},{value:"photon-1",label:"Luma/Photon 1",disabled:!0},{value:"photon-flash-1",label:"Luma/Photon Flash 1",disabled:!0},{value:"stabilityai/stable-diffusion-xl-base-1.0",label:"TogetherAI/Stable Diffusion XL Base 1.0",disabled:!0},{value:"black-forest-labs/FLUX.1-dev",label:"TogetherAI/FLUX.1 Dev",disabled:!0},{value:"black-forest-labs/FLUX.1-schnell",label:"TogetherAI/FLUX.1 Schnell",disabled:!0},{value:"grok-2-image",label:"xAI/Grok 2 Image",disabled:!0}];function ModelSelector(e){let{model:t,onModelChange:r}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Select Model"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(CustomDropdown,{options:m,value:t,onChange:r,placeholder:"Select a model"})})]})}let f=[{value:"640x640",label:"640 x 640"}];function SizeSelector(e){let{size:t,onSizeChange:r}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Image Size"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(CustomDropdown,{options:f,value:t,onChange:r,placeholder:"Select image size"})})]})}function CountdownTimer(e){let{isActive:t,onComplete:r}=e,[s,n]=(0,a.useState)(20);return((0,a.useEffect)(()=>{let e;return t?(n(20),e=setInterval(()=>{n(e=>{let t=e-.1;return t<=0?(null==r||r(),0):t})},100)):n(20),()=>{e&&clearInterval(e)}},[t,r]),t)?(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-800 border-2 border-gray-600 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-xl font-bold",children:s.toFixed(1)})}),(0,l.jsx)("div",{className:"absolute inset-0 w-16 h-16 rounded-full border-2 border-transparent border-t-blue-500 transition-all duration-100",style:{transform:"rotate(".concat((20-s)*18-90,"deg)")}})]})}):null}function ImageDisplay(e){let{images:t,loading:r,onDownload:a,onTimeout:s}=e;return(0,l.jsxs)("div",{className:"w-full h-full relative",children:[(0,l.jsx)("img",{src:"/public.png",alt:"placeholder",className:"w-full h-full object-cover opacity-0"}),r?(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 z-10 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(CountdownTimer,{isActive:r,onComplete:s}),(0,l.jsx)("p",{className:"text-white text-sm mt-4",children:"Generating image..."})]})}):0===t.length?(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-800 rounded-lg flex items-center justify-center",children:(0,l.jsx)(i,{className:"w-12 h-12 text-gray-600"})}),(0,l.jsx)("p",{className:"text-gray-400 text-lg",children:"Generated image will appear here"}),(0,l.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Enter a description on the left and click generate to start"})]})}):(0,l.jsx)("div",{className:"absolute inset-0 p-0.5 bg-gray-400 rounded-lg",children:t.map((e,t)=>(0,l.jsx)("img",{src:e.url,alt:"Generated image ".concat(t+1),className:"w-full h-full object-cover rounded-md"},t))})]})}function Home(){let[e,t]=(0,a.useState)(""),[r,s]=(0,a.useState)("accounts/fireworks/models/stable-diffusion-xl-1024-v1-0"),[c,d]=(0,a.useState)("640x640"),[u,m]=(0,a.useState)([]),[f,x]=(0,a.useState)(!1),[h,b]=(0,a.useState)(""),[p,g]=(0,a.useState)(null),handleSubmit=async t=>{if(t.preventDefault(),e.trim()){x(!0),b(""),m([]),g(null);try{let t=await fetch("/api/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,model:r,size:c})}),l=await t.json();if(!t.ok)throw Error(l.error||"Failed to generate image");let a=new Date,s=a.toISOString().replace("T"," ").replace("Z"," UTC");g(s),m(l.images)}catch(e){b(e instanceof Error?e.message:"An error occurred")}finally{x(!1)}}},downloadImage=async(e,t)=>{try{let r=await fetch(e),l=await r.blob(),a=window.URL.createObjectURL(l),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)}catch(e){console.error("Failed to download image:",e)}};return(0,l.jsxs)("div",{className:"h-screen bg-black text-white relative overflow-hidden",children:[(0,l.jsx)(Navigation,{}),(0,l.jsx)("div",{className:"flex h-[calc(100vh-4rem)]",children:(0,l.jsx)("div",{className:"w-full px-6 pt-[5%] pb-6 overflow-hidden flex justify-center",children:(0,l.jsxs)("div",{className:"max-w-6xl w-full h-full flex flex-col space-y-6",children:[(0,l.jsxs)("div",{className:"flex space-x-12",children:[(0,l.jsxs)("div",{className:"w-1/2 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Describe your image"}),h&&(0,l.jsxs)("div",{className:"flex items-center max-w-64",children:[(0,l.jsx)(n,{className:"w-4 h-4 text-red-400 mr-2 flex-shrink-0"}),(0,l.jsx)("p",{className:"text-red-400 text-sm truncate",title:h,children:h})]})]}),(0,l.jsx)("button",{onClick:handleSubmit,disabled:f||!e.trim(),className:"text-white py-1.5 px-3 rounded-lg border border-gray-600 hover:bg-white hover:text-black hover:border-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black disabled:opacity-50 disabled:cursor-not-allowed flex items-center transition-all duration-200 text-xs",children:f?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o,{className:"animate-spin mr-1 h-4 w-4"}),"Generating..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i,{className:"mr-1 h-4 w-4"}),"Generate"]})})]}),(0,l.jsxs)("div",{className:"w-1/2 flex items-center justify-between",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Generation Result"}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"text-xs text-gray-400",children:p&&(0,l.jsxs)("span",{children:["Time: ",p]})}),u.length>0&&(0,l.jsx)("button",{onClick:()=>downloadImage(u[0].url,"generated-image-".concat(Date.now(),".png")),className:"text-white py-1.5 px-3 rounded-lg border border-gray-600 hover:bg-white hover:text-black hover:border-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black flex items-center transition-all duration-200 text-xs",children:"Download"})]})]})]}),(0,l.jsxs)("div",{className:"flex space-x-12",children:[(0,l.jsxs)("div",{className:"w-1/2 flex flex-col h-full",children:[(0,l.jsx)("div",{className:"relative",style:{flex:"4 1 0%"},children:(0,l.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Describe the image you want to generate...",className:"w-full h-full px-4 py-4 bg-black border border-gray-600 hover:border-gray-500 focus:outline-none focus:ring-1 focus:ring-white focus:border-transparent text-white placeholder-gray-500 resize-none rounded-lg transition-colors",required:!0})}),(0,l.jsx)("div",{className:"h-8"}),(0,l.jsx)("div",{className:"flex items-center",style:{flex:"1 1 0%"},children:(0,l.jsx)(ExamplesSection,{onExampleClick:e=>{t(e)}})}),(0,l.jsx)("div",{className:"h-8"}),(0,l.jsx)("div",{style:{flex:"1 1 0%"},children:(0,l.jsx)(SizeSelector,{size:c,onSizeChange:d})}),(0,l.jsx)("div",{className:"h-8"}),(0,l.jsx)("div",{style:{flex:"1 1 0%"},children:(0,l.jsx)(ModelSelector,{model:r,onModelChange:s})})]}),(0,l.jsx)("div",{className:"w-1/2 flex flex-col h-full",children:(0,l.jsx)("div",{className:"bg-black rounded-lg border border-gray-700 relative overflow-hidden flex-1",children:(0,l.jsx)(ImageDisplay,{images:u,loading:f,onDownload:downloadImage,onTimeout:()=>{x(!1),b("Image generation timeout (20 seconds)")}})})})]})]})})})]})}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=r(2265),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var l,s={},c=null,d=null;for(l in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,l)&&!i.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===s[l]&&(s[l]=t[l]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)},3118:function(e,t,r){"use strict";r.d(t,{w_:function(){return GenIcon}});var l=r(2265),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=l.createContext&&l.createContext(a),n=["attr","size","title"];function _objectWithoutProperties(e,t){if(null==e)return{};var r,l,a=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)r=s[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;r[l]=e[l]}return r}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Tree2Element(e){return e&&e.map((e,t)=>l.createElement(e.tag,_objectSpread({key:t},e.attr),Tree2Element(e.child)))}function GenIcon(e){return t=>l.createElement(IconBase,_extends({attr:_objectSpread({},e.attr)},t),Tree2Element(e.child))}function IconBase(e){var elem=t=>{var r,{attr:a,size:s,title:o}=e,i=_objectWithoutProperties(e,n),c=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),l.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,i,{className:r,style:_objectSpread(_objectSpread({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&l.createElement("title",null,o),e.children)};return void 0!==s?l.createElement(s.Consumer,null,e=>elem(e)):elem(a)}}},function(e){e.O(0,[699,971,472,744],function(){return e(e.s=1090)}),_N_E=e.O()}]);